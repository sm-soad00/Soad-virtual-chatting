<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>SOAD Realtime Chat</title>
  <style>
    body { font-family: Arial; background: #f0f0f0; padding: 20px; }
    h2 { color: #333; }
    #messages { border: 1px solid #ccc; height: 300px; overflow-y: scroll; background: #fff; padding: 10px; }
    .msg { margin-bottom: 10px; }
    input, button { padding: 10px; font-size: 16px; margin-top: 10px; width: calc(100% - 20px); }
    #message { width: 75%; }
    #sendBtn { width: 20%; }
  </style>
</head>
<body>

<h2>SOAD Realtime Chat</h2>

<input type="text" id="username" placeholder="Enter your name"><br><br>

<div id="messages"></div>

<input type="text" id="message" placeholder="Type a message">
<button id="sendBtn" onclick="sendMessage()">Send</button>

<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>

<script>
  // তোমার Firebase config
  const firebaseConfig = {
    databaseURL: "https://soad-virtual-chatting-default-rtdb.firebaseio.com"
  };

  firebase.initializeApp(firebaseConfig);
  const db = firebase.database();
  const messagesRef = db.ref("messages");

  // মেসেজ পাঠানো
  function sendMessage() {
    const username = document.getElementById("username").value.trim();
    const message = document.getElementById("message").value.trim();

    if (username && message) {
      messagesRef.push({
        sender: username,
        text: message,
        timestamp: Date.now()
      });
      document.getElementById("message").value = "";
    }
  }

  // রিয়েলটাইমে মেসেজ দেখানো
  messagesRef.on("child_added", function(snapshot) {
    const msg = snapshot.val();
    const msgDiv = document.createElement("div");
    msgDiv.className = "msg";
    msgDiv.textContent = msg.sender + ": " + msg.text;
    document.getElementById("messages").appendChild(msgDiv);
    document.getElementById("messages").scrollTop = document.getElementById("messages").scrollHeight;
  });
</script>

</body>
</html>
